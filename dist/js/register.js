"use strict";!function(l){var e=l("#registerBox"),s=l(".username"),o=l(".password"),r=l(".repass"),t=l(".tel"),c=l("#registerBox span"),a=!0,n=!0,h=!0,m=!0;s.on("focus",function(){c.eq(0).html("6-25位字母数字或下划线组成").css({color:"#ccc"})});var i=/^\w{6,25}$/;s.on("blur",function(){var e;""!==l(this).val()?6<(e=l(this).val().replace(/[\u4e00-\u9fa5]/g,"aa").length)&&e<25?(i.test(s.val())||(c.eq(0).html("该用户名规则不对").css({color:"red"}),a=!1),l.ajax({type:"post",url:"http://127.0.0.1/snail/php/register.php",data:{username:s.val()}}).done(function(e){a=e?(c.eq(0).html("该用户名已经存在").css("color","red"),!1):(c.eq(0).html("√").css("color","green"),!0)})):(c.eq(0).html("该用户名长度不对").css({color:"red"}),a=!1):(c.eq(0).html("用户名不能为空").css({color:"red"}),a=!1)});var u=/^\w{6,20}$/;o.on("focus",function(){c.eq(1).html("6-20个字符组成,至少包含2种字符").css({color:"#ccc"})}),o.on("input",function(){var e=l(this).val();if(6<=e.length&&e.length<=20){var s=0;switch(/\d+/.test(e)&&s++,/[A-Z]+/.test(e)&&s++,/[a-z]+/.test(e)&&s++,/[\W\_]+/.test(e)&&s++,s){case 1:c.eq(1).html("密码强度-弱").css({color:"red"}),n=!1;break;case 2:case 3:c.eq(1).html("密码强度-中").css({color:"yellow"}),n=!0;break;case 4:c.eq(1).html("密码强度-强").css({color:"green"}),n=!0}}else c.eq(1).html("密码长度错误").css({color:"red"}),n=!1}),o.on("blur",function(){u.test(o.val())||(c.eq(1).html("密码规则不对").css({color:"red"}),n=!1),""!==l(this).val()?n&&(c.eq(1).html("√").css({color:"green"}),n=!0):(c.eq(1).html("密码不能为空").css({color:"red"}),n=!1)}),r.on("blur",function(){""!==l(this).val()?(r.val()!==o.val()&&(c.eq(2).html("两次密码不一致").css({color:"red"}),h=!1),r.val()==o.val()&&(c.eq(2).html("√").css({color:"green"}),h=!0)):(c.eq(2).html("确认密码不能为空").css({color:"red"}),h=!1)});var v=/^1[345678]\d{9}$/;t.on("blur",function(){""!==l(this).val()?(v.test(t.val())||(c.eq(3).html("手机号规则不对").css({color:"red"}),m=!1),v.test(t.val())&&(c.eq(3).html("√").css({color:"green"}),m=!0)):(c.eq(3).html("手机号不能为空").css({color:"red"}),m=!1)}),e.on("submit",function(){if(""===s.val()&&(c.eq(0).html("该用户名不能为空").css({color:"red"}),a=!1),""===o.val()&&(c.eq(1).html("密码不能为空").css({color:"red"}),n=!1),""===r.val()&&(c.eq(2).html("确认密码不能为空").css({color:"red"}),h=!1),""===t.val()&&(c.eq(3).html("手机号不能为空").css({color:"red"}),m=!1),!(a&&n&&h&&m))return!1})}(jQuery);