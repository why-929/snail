"use strict";!function(e){var i=[],l=[],c=null,a=e("#cardBox");e.ajax({url:"http://127.0.0.1/snail/php/listdata.php",dataType:"json"}).done(function(n){var t="";e.each(n,function(n,a){t+='\n            <div class="cardInner">\n                <a href="detail.html?id='+a.id+'" target="_blank">\n                    <h4 class="cardWrapper-title">'+a.title+'</h4>\n                    <p class="descript">'+a.describe+'</p>\n                    <p class="price">￥'+a.price+'</p>\n                    <img class="lazy" data-original="'+a.url+'" width="200" height="200"/>\n                </a>\n            </div>'}),a.html(t),e(function(){e("img.lazy").lazyload({effect:"fadeIn"})}),i=[],l=[],c=null,e(".cardInner").each(function(n,a){l[n]=e(this),i[n]=e(this)})}),e(".page").pagination({pageCount:2,jump:!0,coping:!0,prevContent:"<",nextContent:">",homePage:"首页",endPage:"尾页",callback:function(n){console.log(n.getCurrent()),e.ajax({url:"http://127.0.0.1/snail/php/listdata.php",data:{page:n.getCurrent()},dataType:"json"}).done(function(n){var t="";e.each(n,function(n,a){t+='\n                    <div class="cardInner">\n                        <a href="detail.html?id='+a.id+'" target="_blank">\n                            <h4 class="cardWrapper-title">'+a.title+'</h4>\n                            <p class="descript">'+a.describe+'</p>\n                            <p class="price">￥'+a.price+'</p>\n                            <img class="lazy" data-original="'+a.url+'" width="200" height="200"/>\n                        </a>\n                    </div>'}),a.html(t),e(function(){e("img.lazy").lazyload({effect:"fadeIn"})}),i=[],l=[],c=null,e(".cardInner").each(function(n,a){l[n]=e(this),i[n]=e(this)})})}}),e("button").eq(0).on("click",function(){e.each(i,function(n,a){e("#cardBox").append(a)})}),e("button").eq(1).on("click",function(){for(var n=0;n<l.length-1;n++)for(var a,t=0;t<l.length-n-1;t++){c=parseFloat(l[t].find(".price").html().substring(1)),parseFloat(l[t+1].find(".price").html().substring(1))<c&&(a=l[t],l[t]=l[t+1],l[t+1]=a)}e.each(l,function(n,a){console.log(a),e("#cardBox").append(a)})})}(jQuery),function(n){n(".sideBar-top").on("click",function(){n("html,body").animate({scrollTop:0},200)});var a,t=n(".one"),e=n(".two");localStorage.getItem("username")&&(a=localStorage.getItem("username"),t.html(a),e.html("注销")),e.on("click",function(){e.html("注销")&&(window.location.reload(),localStorage.removeItem("username"))})}(jQuery);